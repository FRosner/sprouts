<div id="container">
    <div *ngIf="auth.currentUser$ | async as currentUser; else loadingView">
        <div *ifSome="currentUser; else loginView; let user">
            <mat-card>
                <mat-card-title>
                    {{ title }}
                </mat-card-title>
                <p>
                    Welcome, {{ user.displayName }}!
                </p>
                <p>
                    <a mat-raised-button routerLink="/game">
                        üìù
                        Play Dots and Boxes
                    </a>
                </p>
                <p>
                    <button mat-raised-button (click)="auth.signOut()">
                        <fa-icon [icon]="logoutIcon"></fa-icon>
                        Logout
                    </button>
                </p>
            </mat-card>
        </div>

        <ng-template #loginView>
            <mat-card>
                <mat-card-title>
                    {{ title }}
                </mat-card-title>
                <button mat-raised-button (click)="auth.googleSignin()">
                    <fa-icon [icon]="googleIcon"></fa-icon>
                    Login with Google
                </button>
            </mat-card>
        </ng-template>
    </div>
</div>

<ng-template #loadingView>
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</ng-template>
